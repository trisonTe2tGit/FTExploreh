import{z as v,u as G,j as e,r as c,L as je,R as we}from"./index-DdhxihET.js";import{c as N,o as z,B as p,u as b,S as ye,d as x}from"./createLucideIcon-BaD5mpES.js";import{C as R,a as E,b as P,f as A,d as S,P as y,c as De}from"./index-Da7hFKZi.js";import{u as ve,F as Ce,a as k,b as F,c as L,I as W,d as $,e as H,t as Ne,W as be,M as Re}from"./MnemonicWordListing-BfUQ0gYf.js";import{L as Ee,C as Pe}from"./loader-zfJ_1S1-.js";import{P as Ae,R as Se,h as Te,u as _e,F as Oe,a as Ie}from"./Combination-CVWmS1Oe.js";import{C as Me}from"./Label-EVIep7GS.js";import{c as ke,b as w,P as T,D as Fe,e as Le,u as We,d as C}from"./index-CJfOmEFE.js";import{A as U}from"./arrow-right-RD9DoNlw.js";/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=N("HardDriveDownload",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=N("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=N("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ge=v.object({password:v.string().min(8,"Password must be atleast 8 characters"),reEnteredPassword:v.string().min(8,"Password must be atleast 8 characters")}).refine(t=>t.password===t.reEnteredPassword,{message:"Passwords doesn't match",path:["reEnteredPassword"]}),ze=z(({onAccountCreated:t})=>{const{zondStore:o}=G(),{zondInstance:s}=o,n=ve({resolver:Ne(Ge),mode:"onChange",reValidateMode:"onSubmit",defaultValues:{password:"",reEnteredPassword:""}}),{handleSubmit:r,control:a,formState:{isSubmitting:i,isValid:l}}=n;async function u(d){try{const m=d.password,h=await(s==null?void 0:s.accounts.create());t(h)}catch(m){a.setError("reEnteredPassword",{message:`${m} There was an error while creating the account`})}}return e.jsx(Ce,{...n,children:e.jsx("form",{className:"w-full",onSubmit:r(u),children:e.jsxs(R,{children:[e.jsx(E,{children:e.jsx(P,{children:"Create new account"})}),e.jsxs(A,{className:"space-y-8",children:[e.jsx(k,{control:a,name:"password",render:({field:d})=>e.jsxs(F,{children:[e.jsx(L,{children:e.jsx(W,{disabled:i,placeholder:"Password",type:"password",...d})}),e.jsx($,{children:"Enter a password"}),e.jsx(H,{})]})}),e.jsx(k,{control:a,name:"reEnteredPassword",render:({field:d})=>e.jsxs(F,{children:[e.jsx(L,{children:e.jsx(W,{...d,disabled:i,placeholder:"Re-enter the password",type:"password"})}),e.jsx($,{children:"Re-enter the password"}),e.jsx(H,{})]})})]}),e.jsx(S,{children:e.jsxs(p,{disabled:i||!l,className:"w-full",type:"submit",children:[i?e.jsx(Ee,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(Ae,{className:"mr-2 h-4 w-4"}),"Create account"]})})]})})})}),Be=({account:t})=>{const o=(t==null?void 0:t.address)??"",s=[];for(let d=2;d<o.length;d+=4)s.push(o.substring(d,d+4));const n=s.join(" "),[r,a]=c.useState(!1),[i,l]=c.useState();c.useEffect(()=>()=>{i&&clearTimeout(i)},[i]);const u=()=>{a(!0),navigator.clipboard.writeText(o);const d=setTimeout(()=>{a(!1)},1e3);l(d)};return e.jsxs(R,{className:"w-full",children:[e.jsx(E,{children:e.jsx(P,{children:"Account created"})}),e.jsx(A,{className:"space-y-8",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{children:"Account public address:"}),e.jsx("div",{className:"font-bold text-secondary",children:`0x ${n}`}),e.jsx("div",{children:"You can share this account public address with anyone. Others need it to interact with you."})]})}),e.jsxs(S,{className:"gap-4",children:[e.jsxs(p,{className:"w-full",type:"button",variant:"outline",onClick:u,children:[e.jsx(Me,{className:"mr-2 h-4 w-4"}),r?"Copied":"Copy"]}),e.jsx(je,{className:"w-full",to:we.ACCOUNT_DETAILS,children:e.jsxs(p,{className:"w-full",type:"button",children:[e.jsx(Pe,{className:"mr-2 h-4 w-4"}),"Done"]})})]})]})};var _="Dialog",[B,jt]=ke(_),[Ve,f]=B(_),V=t=>{const{__scopeDialog:o,children:s,open:n,defaultOpen:r,onOpenChange:a,modal:i=!0}=t,l=c.useRef(null),u=c.useRef(null),[d=!1,m]=We({prop:n,defaultProp:r,onChange:a});return e.jsx(Ve,{scope:o,triggerRef:l,contentRef:u,contentId:C(),titleId:C(),descriptionId:C(),open:d,onOpenChange:m,onOpenToggle:c.useCallback(()=>m(h=>!h),[m]),modal:i,children:s})};V.displayName=_;var Y="DialogTrigger",J=c.forwardRef((t,o)=>{const{__scopeDialog:s,...n}=t,r=f(Y,s),a=b(o,r.triggerRef);return e.jsx(y.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":M(r.open),...n,ref:a,onClick:w(t.onClick,r.onOpenToggle)})});J.displayName=Y;var O="DialogPortal",[Ye,q]=B(O,{forceMount:void 0}),K=t=>{const{__scopeDialog:o,forceMount:s,children:n,container:r}=t,a=f(O,o);return e.jsx(Ye,{scope:o,forceMount:s,children:c.Children.map(n,i=>e.jsx(T,{present:s||a.open,children:e.jsx(Ie,{asChild:!0,container:r,children:i})}))})};K.displayName=O;var D="DialogOverlay",X=c.forwardRef((t,o)=>{const s=q(D,t.__scopeDialog),{forceMount:n=s.forceMount,...r}=t,a=f(D,t.__scopeDialog);return a.modal?e.jsx(T,{present:n||a.open,children:e.jsx(Je,{...r,ref:o})}):null});X.displayName=D;var Je=c.forwardRef((t,o)=>{const{__scopeDialog:s,...n}=t,r=f(D,s);return e.jsx(Se,{as:ye,allowPinchZoom:!0,shards:[r.contentRef],children:e.jsx(y.div,{"data-state":M(r.open),...n,ref:o,style:{pointerEvents:"auto",...n.style}})})}),g="DialogContent",Z=c.forwardRef((t,o)=>{const s=q(g,t.__scopeDialog),{forceMount:n=s.forceMount,...r}=t,a=f(g,t.__scopeDialog);return e.jsx(T,{present:n||a.open,children:a.modal?e.jsx(qe,{...r,ref:o}):e.jsx(Ke,{...r,ref:o})})});Z.displayName=g;var qe=c.forwardRef((t,o)=>{const s=f(g,t.__scopeDialog),n=c.useRef(null),r=b(o,s.contentRef,n);return c.useEffect(()=>{const a=n.current;if(a)return Te(a)},[]),e.jsx(Q,{...t,ref:r,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:w(t.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=s.triggerRef.current)==null||i.focus()}),onPointerDownOutside:w(t.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:w(t.onFocusOutside,a=>a.preventDefault())})}),Ke=c.forwardRef((t,o)=>{const s=f(g,t.__scopeDialog),n=c.useRef(!1),r=c.useRef(!1);return e.jsx(Q,{...t,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,a),a.defaultPrevented||(n.current||(l=s.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:a=>{var u,d;(u=t.onInteractOutside)==null||u.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const i=a.target;((d=s.triggerRef.current)==null?void 0:d.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),Q=c.forwardRef((t,o)=>{const{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:a,...i}=t,l=f(g,s),u=c.useRef(null),d=b(o,u);return _e(),e.jsxs(e.Fragment,{children:[e.jsx(Oe,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:a,children:e.jsx(Fe,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":M(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Xe,{titleId:l.titleId}),e.jsx(Qe,{contentRef:u,descriptionId:l.descriptionId})]})]})}),I="DialogTitle",ee=c.forwardRef((t,o)=>{const{__scopeDialog:s,...n}=t,r=f(I,s);return e.jsx(y.h2,{id:r.titleId,...n,ref:o})});ee.displayName=I;var te="DialogDescription",se=c.forwardRef((t,o)=>{const{__scopeDialog:s,...n}=t,r=f(te,s);return e.jsx(y.p,{id:r.descriptionId,...n,ref:o})});se.displayName=te;var oe="DialogClose",ae=c.forwardRef((t,o)=>{const{__scopeDialog:s,...n}=t,r=f(oe,s);return e.jsx(y.button,{type:"button",...n,ref:o,onClick:w(t.onClick,()=>r.onOpenChange(!1))})});ae.displayName=oe;function M(t){return t?"open":"closed"}var ne="DialogTitleWarning",[wt,re]=Le(ne,{contentName:g,titleName:I,docsSlug:"dialog"}),Xe=({titleId:t})=>{const o=re(ne),s=`\`${o.contentName}\` requires a \`${o.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${o.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${o.docsSlug}`;return c.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},Ze="DialogDescriptionWarning",Qe=({contentRef:t,descriptionId:o})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${re(Ze).contentName}}.`;return c.useEffect(()=>{var a;const r=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");o&&r&&(document.getElementById(o)||console.warn(n))},[n,t,o]),null},et=V,tt=J,st=K,ie=X,ce=Z,le=ee,de=se,ue=ae;const ot=et,at=tt,nt=st,rt=ue,me=c.forwardRef(({className:t,...o},s)=>e.jsx(ie,{ref:s,className:x("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...o}));me.displayName=ie.displayName;const fe=c.forwardRef(({className:t,children:o,...s},n)=>e.jsxs(nt,{children:[e.jsx(me,{}),e.jsxs(ce,{ref:n,className:x("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[o,e.jsxs(ue,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Ue,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fe.displayName=ce.displayName;const pe=({className:t,...o})=>e.jsx("div",{className:x("flex flex-col space-y-1.5 text-center sm:text-left",t),...o});pe.displayName="DialogHeader";const ge=({className:t,...o})=>e.jsx("div",{className:x("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...o});ge.displayName="DialogFooter";const he=c.forwardRef(({className:t,...o},s)=>e.jsx(le,{ref:s,className:x("text-lg font-semibold leading-none tracking-tight",t),...o}));he.displayName=le.displayName;const xe=c.forwardRef(({className:t,...o},s)=>e.jsx(de,{ref:s,className:x("text-sm text-muted-foreground",t),...o}));xe.displayName=de.displayName;const it=t=>{if(!t)return"";const o=new TextEncoder().encode(t.replace(/\W/g,"")),s=[];for(let n=0;n<o.length*2;n+=3){const r=n>>1,a=o[r];let i=0;r+1<o.length&&(i=o[r+1]);let l=0;n%2===0?l=(a<<4)+(i>>4):l=((a&15)<<8)+i,s.push(be[l])}return s.join(" ")},ct=({account:t,onMnemonicNoted:o})=>{const s=t==null?void 0:t.address,n=t==null?void 0:t.seed,r=it(n),a=()=>{const u={"Account public address (can be shared with others)":(t==null?void 0:t.address)??"","Secret Mnemonic phrases (can be used for recovering your account, and should be kept safe)":r},d=JSON.stringify(u,null,2),m=new Blob([d],{type:"application/json"}),h=URL.createObjectURL(m),j=document.createElement("a");j.href=h,j.download="Secret Mnemonic Phrases.json",document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(h)},i=`Don't lose this mnemonic phrases. Download it right now. You may need this someday to import or recover your new account ${s==null?void 0:s.substring(0,5)}...${s==null?void 0:s.substring((s==null?void 0:s.length)-5)}`;return e.jsxs(R,{className:"text-ellipsis",children:[e.jsxs(E,{children:[e.jsx(P,{children:"Keep this safe"}),e.jsx(De,{children:i})]}),e.jsx(A,{children:e.jsx(Re,{mnemonic:r})}),e.jsxs(S,{className:"gap-4",children:[e.jsxs(p,{className:"w-full",type:"button",variant:"constructive",onClick:a,children:[e.jsx($e,{className:"mr-2 h-4 w-4"}),"Download"]}),e.jsxs(ot,{children:[e.jsx(at,{asChild:!0,children:e.jsxs(p,{className:"w-full",type:"button",children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Continue"]})}),e.jsxs(fe,{className:"w-80 rounded-md",children:[e.jsxs(pe,{className:"text-left",children:[e.jsx(he,{children:"Important!"}),e.jsx(xe,{children:"You should only continue if you have downloaded the mnemonic phrases. If you haven't, go back, download, and store it safe. There is no going back once you click the continue button."})]}),e.jsxs(ge,{className:"flex flex-row gap-4",children:[e.jsx(rt,{asChild:!0,children:e.jsxs(p,{className:"w-full",type:"button",variant:"outline",children:[e.jsx(He,{className:"mr-2 h-4 w-4"}),"Go back"]})}),e.jsxs(p,{className:"w-full",type:"button",onClick:o,children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Continue"]})]})]})]})]})]})},yt=z(()=>{const{zondStore:t}=G(),{setActiveAccount:o}=t,[s,n]=c.useState(),[r,a]=c.useState(!1),[i,l]=c.useState(!1),u=m=>{window.scrollTo(0,0),m&&(n(m),a(!0))},d=()=>{window.scrollTo(0,0),o(s==null?void 0:s.address),l(!0)};return e.jsxs(e.Fragment,{children:[e.jsx("img",{className:"fixed z-0 h-96 w-96 -translate-x-8 scale-150 overflow-hidden opacity-30",src:"tree.svg"}),e.jsx("div",{className:"relative z-10 p-8",children:r?i?e.jsx(Be,{account:s}):e.jsx(ct,{account:s,onMnemonicNoted:d}):e.jsx(ze,{onAccountCreated:u})})]})});export{yt as default};
