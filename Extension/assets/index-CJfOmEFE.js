import{r as o,j as C,e as k,d as F}from"./index-DdhxihET.js";import{P as M,e as $}from"./index-Da7hFKZi.js";import{u as L}from"./createLucideIcon-BaD5mpES.js";function g(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function ae(e,t){const n=o.createContext(t);function s(c){const{children:a,...u}=c,d=o.useMemo(()=>u,Object.values(u));return C.jsx(n.Provider,{value:d,children:a})}function r(c){const a=o.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return s.displayName=e+"Provider",[s,r]}function de(e,t=[]){let n=[];function s(c,a){const u=o.createContext(a),d=n.length;n=[...n,a];function i(v){const{scope:l,children:E,...h}=v,y=(l==null?void 0:l[e][d])||u,N=o.useMemo(()=>h,Object.values(h));return C.jsx(y.Provider,{value:N,children:E})}function f(v,l){const E=(l==null?void 0:l[e][d])||u,h=o.useContext(E);if(h)return h;if(a!==void 0)return a;throw new Error(`\`${v}\` must be used within \`${c}\``)}return i.displayName=c+"Provider",[i,f]}const r=()=>{const c=n.map(a=>o.createContext(a));return function(u){const d=(u==null?void 0:u[e])||c;return o.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return r.scopeName=e,[s,z(r,...t)]}function z(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(c){const a=s.reduce((u,{useScope:d,scopeName:i})=>{const v=d(c)[`__scope${i}`];return{...u,...v}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function p(e){const t=o.useRef(e);return o.useEffect(()=>{t.current=e}),o.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function fe({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,r]=K({defaultProp:t,onChange:n}),c=e!==void 0,a=c?e:s,u=p(n),d=o.useCallback(i=>{if(c){const v=typeof i=="function"?i(e):i;v!==e&&u(v)}else r(i)},[c,e,r,u]);return[a,d]}function K({defaultProp:e,onChange:t}){const n=o.useState(e),[s]=n,r=o.useRef(s),c=p(t);return o.useEffect(()=>{r.current!==s&&(c(s),r.current=s)},[s,r,c]),n}function X(e,t=globalThis==null?void 0:globalThis.document){const n=p(e);o.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Y="DismissableLayer",x="dismissableLayer.update",q="dismissableLayer.pointerDownOutside",G="dismissableLayer.focusOutside",w,U=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),J=o.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:c,onInteractOutside:a,onDismiss:u,...d}=e,i=o.useContext(U),[f,v]=o.useState(null),l=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=o.useState({}),h=L(t,m=>v(m)),y=Array.from(i.layers),[N]=[...i.layersWithOutsidePointerEventsDisabled].slice(-1),B=y.indexOf(N),R=f?y.indexOf(f):-1,W=i.layersWithOutsidePointerEventsDisabled.size>0,D=R>=B,j=V(m=>{const P=m.target,T=[...i.branches].some(O=>O.contains(P));!D||T||(r==null||r(m),a==null||a(m),m.defaultPrevented||u==null||u())},l),A=H(m=>{const P=m.target;[...i.branches].some(O=>O.contains(P))||(c==null||c(m),a==null||a(m),m.defaultPrevented||u==null||u())},l);return X(m=>{R===i.layers.size-1&&(s==null||s(m),!m.defaultPrevented&&u&&(m.preventDefault(),u()))},l),o.useEffect(()=>{if(f)return n&&(i.layersWithOutsidePointerEventsDisabled.size===0&&(w=l.body.style.pointerEvents,l.body.style.pointerEvents="none"),i.layersWithOutsidePointerEventsDisabled.add(f)),i.layers.add(f),I(),()=>{n&&i.layersWithOutsidePointerEventsDisabled.size===1&&(l.body.style.pointerEvents=w)}},[f,l,n,i]),o.useEffect(()=>()=>{f&&(i.layers.delete(f),i.layersWithOutsidePointerEventsDisabled.delete(f),I())},[f,i]),o.useEffect(()=>{const m=()=>E({});return document.addEventListener(x,m),()=>document.removeEventListener(x,m)},[]),C.jsx(M.div,{...d,ref:h,style:{pointerEvents:W?D?"auto":"none":void 0,...e.style},onFocusCapture:g(e.onFocusCapture,A.onFocusCapture),onBlurCapture:g(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:g(e.onPointerDownCapture,j.onPointerDownCapture)})});J.displayName=Y;var Q="DismissableLayerBranch",Z=o.forwardRef((e,t)=>{const n=o.useContext(U),s=o.useRef(null),r=L(t,s);return o.useEffect(()=>{const c=s.current;if(c)return n.branches.add(c),()=>{n.branches.delete(c)}},[n.branches]),C.jsx(M.div,{...e,ref:r})});Z.displayName=Q;function V(e,t=globalThis==null?void 0:globalThis.document){const n=p(e),s=o.useRef(!1),r=o.useRef(()=>{});return o.useEffect(()=>{const c=u=>{if(u.target&&!s.current){let d=function(){_(q,n,i,{discrete:!0})};const i={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=d,t.addEventListener("click",r.current,{once:!0})):d()}else t.removeEventListener("click",r.current);s.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",c),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function H(e,t=globalThis==null?void 0:globalThis.document){const n=p(e),s=o.useRef(!1);return o.useEffect(()=>{const r=c=>{c.target&&!s.current&&_(G,n,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function I(){const e=new CustomEvent(x);document.dispatchEvent(e)}function _(e,t,n,{discrete:s}){const r=n.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),s?$(r,c):r.dispatchEvent(c)}var S=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{},ee=k.useId||(()=>{}),te=0;function le(e){const[t,n]=o.useState(ee());return S(()=>{n(s=>s??String(te++))},[e]),t?`radix-${t}`:""}function ne(e,t){return o.useReducer((n,s)=>t[n][s]??n,e)}var se=e=>{const{present:t,children:n}=e,s=re(t),r=typeof n=="function"?n({present:s.isPresent}):o.Children.only(n),c=L(s.ref,oe(r));return typeof n=="function"||s.isPresent?o.cloneElement(r,{ref:c}):null};se.displayName="Presence";function re(e){const[t,n]=o.useState(),s=o.useRef({}),r=o.useRef(e),c=o.useRef("none"),a=e?"mounted":"unmounted",[u,d]=ne(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const i=b(s.current);c.current=u==="mounted"?i:"none"},[u]),S(()=>{const i=s.current,f=r.current;if(f!==e){const l=c.current,E=b(i);e?d("MOUNT"):E==="none"||(i==null?void 0:i.display)==="none"?d("UNMOUNT"):d(f&&l!==E?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,d]),S(()=>{if(t){const i=v=>{const E=b(s.current).includes(v.animationName);v.target===t&&E&&F.flushSync(()=>d("ANIMATION_END"))},f=v=>{v.target===t&&(c.current=b(s.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",i),t.addEventListener("animationend",i),()=>{t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",i),t.removeEventListener("animationend",i)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:o.useCallback(i=>{i&&(s.current=getComputedStyle(i)),n(i)},[])}}function b(e){return(e==null?void 0:e.animationName)||"none"}function oe(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}export{J as D,se as P,p as a,g as b,de as c,le as d,ae as e,S as f,fe as u};
